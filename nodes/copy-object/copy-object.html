
<!-- BEGIN COPY OBJECT -->
<script type="text/x-red" data-template-name="Copy Object">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="Name">&nbsp;</span>Name: </label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]Name">
    </div>
    <div class="form-row">
        <label for="node-input-conf"><code><i class="fa fa-cogs"></i></code> <span data-i18n="Configuration">&nbsp;</span>Client: </label>
        <input type="text" id="node-input-conf">
    </div>
    <div class="form-row">
        <label for="node-input-bucket"><code><i class="fa fa-database"></i></code> <span data-i18n="Bucket">&nbsp;</span>Bucket: </label>
        <input type="text" id="node-input-bucket" data-i18n="[placeholder]Bucket">
    </div>
    <div class="form-row">
        <label for="node-input-key"><code><i class="fa fa-magic"></i></code> <span data-i18n="Key">&nbsp;</span>Key: </label>
        <input type="text" id="node-input-key" data-i18n="[placeholder]Object Key">
    </div>
    <div class="form-row">
        <label for="node-input-copysource"><code><i class="fa fa-anchor"></i></code> <span data-i18n="Copy Source">&nbsp;</span>Copy Source: </label>
        <input type="text" id="node-input-copysource" data-i18n="[placeholder]Copy Source">
    </div>
    <div class="form-row">
        <label for="node-input-versionid"><i class="fa fa-history"></i> <span data-i18n="Version ID">&nbsp;</span>Version ID: </label>
        <input type="text" id="node-input-versionid" data-i18n="[placeholder]t46ZenlYTZBnj">
    </div>
    <div class="form-row">
        <label for="node-input-contentencoding"><i class="fa fa-file-code-o"></i> <span data-i18n="Destination Content Encoding">&nbsp;</span>Destination Content Encoding: </label>
        <input type="text" id="node-input-contentencoding" data-i18n="[placeholder]gzip">
    </div>
    <div class="form-tips">
        <span>Tips:</span>
        <ul>
            <li><span data-i18n="[html]tip1">Leave <code>Bucket</code>, <code>Key</code>, <code>Copy Source</code>, <code>Version ID</code> and(or) <code>Destination Content Encoding</code> field(s) blank if you are setting it via msg property. <code><b><u>Red</u></b></code> iconed properites are <code>required!</code> E.g.:
                <ul>
                    <li><code>msg.bucket = "test-bucket"</code></li>
                    <li><code>msg.key = "destination.json"</code></li>
                    <li><code>msg.copysource = "/test/test.json"</code></li>
                    <li><code>msg.versionid = "t46ZenlYTZBnj"</code></li>
                    <li><code>msg.contentencoding = "gzip"</code></li>
                </ul>
            </li>
        </ul>
    </div>
</script>

<script type="text/x-red" data-help-name="Copy Object">
    <p>S3 copy object node. This node is used to copy object from a source
    to specified Bucket with specified Key. The bucket can be specified either directly
    on this node properties or by setting input property <code>msg.bucket</code>.
    Other parameters should be set as, such as <code>Key</code>, <code>Copy Source</code>, <code>Version Id (optional)</code> and <code>Content Encoding (optional)</code>.
    These parameters can be also set by setting properites of the input message respectively
    <code>key</code>, <code>copysource</code>, <code>versionid</code> and <code>contentencoding</code>.</p>
</script>

<script type="text/javascript">
    RED.nodes.registerType('Copy Object',{
        category: 'storage-input',
        color:"#FFFFFF",
        defaults: {
            name: {value: ""},
            conf: {type:"client-s3", required:true},
            bucket: {type: 'text', required: false},
            key: {type: 'text', required: false},
            copysource: {type: 'text', required: false},
            versionid: {type: 'text', required: false},
            contentencoding: {type: 'text', required: false},
        },
        inputs: 1,
        outputs: 1,
        icon: "s3Logo.png",
        label: function() {
            return this.name ? this.name : "Copy Object";
        }
    });
</script>
<!-- END COPY OBJECT -->